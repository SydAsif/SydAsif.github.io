---
layout: single
title:  "Python: Network Automation with Netmiko"
date:   2021-12-17 15:02:15 +0500
categories: python
tags: 
  - automation
  - gns3
  - python
toc: true
toc_label: "On This Post"
toc_sticky: true
---

## What is Netmiko?
[Netmiko](https://syd-asif.blogspot.com/2021/09/python-netmiko.html) is a multi-vendor library to simplify Paramiko SSH connections to network devices. Netmiko supports a wide range of devices. These devices fall into three categories, see [supported platforms](https://github.com/ktbyers/netmiko/blob/develop/PLATFORMS.md) on Github.

### Library Purpose

Netmiko simplifies SSH management to network devices. The purposes of this library are the following:

- Successfully establish an SSH connection to the device.
- Simplify the execution, retrieval, and formatting of show commands.
- Simplify the execution of configuration commands.
- Provide a (relatively) uniform API for interacting with devices.

To install netmiko simply use pip for installation.

`pip install netmiko`

Netmiko has the following requirements (which pip will install for you)

- Paramiko >= 2.4.3
- scp >= 0.13.2
- pyserial
- textfsm

We will use our previous topology as below:

![picture](/assets/images/network_automation.png)

[Lab Configuration](https://sydasif.github.io/python/telnetlib/#networkautomation-1-configuration) same as previous.

### Getting Started

Import "ConnectHandler" from the Netmiko library.

```py
from netmiko import ConnectHandler

# Create a dictionary for a particular device
S1 = {
 'device_type': 'cisco_ios',
 'ip': '192.168.10.10',
 'username': 'admin',
 'password': 'cisco',
 'secret' : 'cisco',
}

'''calling the ConnectHandler Library [**iosv_l2] means telling
python to consider the contents of the dictionary as key value pairs
instead of single elements.'''

net_connect = ConnectHandler(**S1)
net_connect.enable()

# Sending a command in to the switch --->
output = net_connect.send_command("show ip int br")
print(output)
```

## [Example of Netmiko](https://github.com/ktbyers/netmiko/blob/develop/EXAMPLES.md)  

> More script at [GitHub](https://github.com/sydasif/network-automation/tree/master/netmiko)
